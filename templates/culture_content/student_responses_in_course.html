{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container">
<br>
<h2>Participant responses in {{ course.name }}</h2>

<table id="results" class="display">
        <thead>
          <tr>
              <th>Participant</th>
              <th>Scenario (id)</th>
              <th>Option</th>
              <th>Participant response</th>
              <th>Current range (from)</th>
              <th>Current range (to)</th>
              <th>Responded</th>
          </tr>
        </thead>
<tbody>
{% for res in results %}
          <tr>
            <td>{{ res.0 }}</td>
            <td>{{ res.1 }} ({{ res.1.id }})</td>
            <td>{{ res.4 }}</td>
            <td>{{ res.3.response }}</td>
            <td>{{ res.2.rating_from }}</td>
          <td>{{ res.2.rating_to }}</td>
          <td>{{ res.3.responded }}</td>
          </tr>
{% endfor %}
</tbody>
      </table>
    <br>



</div>
{% endblock %}
{% block js %}
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.0.js"></script>
	<script type="text/javascript"  src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript"  src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
	<script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	<script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	<script type="text/javascript"  src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
	<script type="text/javascript"  src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
<script>
$(document).ready( function () {
    $('#results').DataTable({
        dom: 'Bfrtip',
        buttons: [
             'excel'
        ]
    });
} );
</script>
{% endblock %}